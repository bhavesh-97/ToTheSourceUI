@import '../../../shared/styles/datatable.scss';

/* * 1. CRITICAL CHANGE: Allow content to fully show and columns to adjust.
* We remove forced truncation (hidden overflow, ellipsis) and fixed table layout.
*/
:host ::ng-deep .p-treetable table {
    /* Change from 'fixed' to 'auto' to allow columns to size based on content */
    table-layout: auto; 
}

:host ::ng-deep .p-treetable td,
:host ::ng-deep .p-treetable th {
    /* Allow text to wrap if the column is sized very narrowly by PrimeNG/browser */
    white-space: normal !important; 
    word-break: break-word; /* Helps with long words */
    
    /* REMOVE: overflow: hidden; */
    /* REMOVE: text-overflow: ellipsis; */
}

/*
* 2. Column Sizing: Use 'min-width' instead of 'width'
* This ensures the column takes up AT LEAST the specified size 
* but can expand to fit content or share remaining space.
*/
.col-serial { 
    min-width: 60px; 
    text-align: center; 
}
.col-menu { 
    /* Ensure enough room for the Menu, icon, and toggler. */
    min-width: 300px; 
}
/* URL column removed from HTML, so we remove the CSS too
.col-url { min-width: 220px; } 
*/
.col-type { 
    min-width: 120px; 
}
.col-rank { 
    min-width: 80px; 
    text-align: center; 
}
.col-parent { 
    min-width: 160px; 
}
.col-status { 
    min-width: 120px; 
}
.col-actions { 
    /* Must have enough room for 3 buttons */
    min-width: 140px; 
    text-align: center; 
}


/* --- Other Component-Specific Styles (Keep these) --- */

.menu-stats {
    display: flex;
    align-items: center;
    gap: 1.25rem;
    background: var(--surface-card);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    box-shadow: var(--card-shadow);
}

.menu-stat {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.85rem;
    white-space: nowrap;
}

.menu-stat .label {
    color: var(--text-color-secondary);
    font-weight: 500;
}

.menu-stat .value {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--text-color);
}

/* Accent colors */
.menu-stat.success .value {
    color: var(--green-500);
}
.text-red-500 {
    color: #ff0000 !important;
}
.menu-stat.info .value {
    color: var(--blue-500);
}

.menu-stat.warning .value {
    color: var(--purple-500);
}
.p-treetable .p-column-resizer {
    background: var(--primary-color);
    width: 3px;
}