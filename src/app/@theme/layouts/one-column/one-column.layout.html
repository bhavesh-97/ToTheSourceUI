<div class="one-col-layout">

  <!-- Fixed Header -->
  <ngx-header (toggleSidebar)="toggleSidebar()"></ngx-header>

  <!-- GSAP-controlled Backdrop -->
  <div #backdrop class="sidebar-backdrop" (click)="hideSidebar()"></div>

  <!-- PrimeNG Drawer (GSAP-animated) -->
  <p-drawer #drawer
            [visible]="sidebarVisible()"
            [showCloseIcon]="false"
            [modal]="true"
            [closeOnEscape]="false"
            position="left"
            styleClass="custom-sidebar"
            [style.--sidebar-width]="sidebarWidth() + 'px'">
    <!-- Sidebar Header -->
    <ng-template pTemplate="header">
      <div class="sidebar-header p-3 d-flex align-items-center gap-3">
        <img src="assets/images/product/To the Source.png" height="36" alt="Logo">
        <span class="text-white fw-bold fs-5" [class.d-none]="sidebarCompacted()">To The Source</span>
      </div>
    </ng-template>

    <!-- Menu -->
    <p-menu [model]="menuItems" styleClass="sidebar-menu flex-grow-1"></p-menu>

    <!-- Footer -->
    <ng-template pTemplate="footer">
      <div class="sidebar-footer p-3 text-center border-top">
        <a href="https://www.tothesource.com" target="_blank">
          <img src="assets/images/product/To the Source.png"
               height="28" class="img-fluid" alt="Powered by tothesource">
        </a>
      </div>
    </ng-template>
  </p-drawer>

  <!-- Main Content -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

</div>